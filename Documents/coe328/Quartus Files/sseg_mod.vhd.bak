--Figure 6.47
library ieee;
use ieee.std_logic_1164.all;

entity ssegmod is
port (

bcd : in std_logic_vector(3 downto 0);
signin : in std_logic; --given sign

--first 7 segment display
--second 7 segment display (for sign)
leds : out std_logic_vector(0 to 6);
signout : out std_logic_vector(0 to 6)
);

end ssegmod;

architecture Behavior of ssegmod is

	begin
	--BCD to 7 seg decoder start
	--turns on lettered leds (abcdefg) based on binary representation
	--of given number
	process(bcd)
		begin

		if(signin='0') then
			signout<= NOT "1110110";--displays y
		else
			signout<= NOT "1100100";--displays n
		end if;
		
			--501257266
		
        case bcd is               	--	abcdefg
            when "0000" => leds <= NOT "1111110"; -- 0
            when "0001" => leds <= NOT "0110000"; -- 1
            when "0010" => leds <= NOT "1101101"; -- 2
            when "0011" => leds <= NOT "1111001"; -- 3
            when "0100" => leds <= NOT "0110011"; -- 4
            when "0101" => leds <= NOT "1011011"; -- 5
            when "0110" => leds <= NOT "1011111"; -- 6
            when "0111" => leds <= NOT "1110000"; -- 7
            when "1000" => leds <= NOT "1111111"; -- 8
            when "1001" => leds <= NOT "1110011"; -- 9
				
				when "1010" => leds <= NOT "1110111"; -- a
				when "1011" => leds <= NOT "1111111"; -- b
				when "1100" => leds <= NOT "1001110"; -- c
				when "1101" => leds <= NOT "1111110"; -- d
				when "1110" => leds <= NOT "1001111"; -- e
				when "1111" => leds <= NOT "1000111"; -- f
				
				
            when others => leds <= NOT "-------"; -- error case
        end case;
end process;

end Behavior; 